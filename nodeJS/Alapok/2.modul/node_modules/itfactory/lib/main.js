const fs = require('fs');

// @param message: string
let showConsolMessage = function(message) {
    console.log(message);
};

// @param path: string, a file eleresi utja
let readAsJSON = (path) => {
    let json = fs.readFileSync(path, 'utf8');
    //JSON string objektumma alakitasa
    json = JSON.parse(json);
    return json;
};

// @param: path: string
// @param name: string
// @param value: *
// return Array: megfelelo rekord

let findInJSON = (path, key, value) => {
    let jsonObject = readAsJSON(path);
    let records = [];
    value = value.toLowerCase();

    for (let k in jsonObject) {
        if (jsonObject[k][key].toLowerCase().indexOf(value) !== -1) {
            records.push(jsonObject[k]);
        }
    }

    return records;
};

module.exports = {
    "showConsolMessage": showConsolMessage,
    "find": findInJSON
};